var ReactiveDnd=function(e){"use strict";function t(){}const n=e=>e;function i(e,t){for(const n in t)e[n]=t[n];return e}function o(e){return e()}function r(){return Object.create(null)}function l(e){e.forEach(o)}function s(e){return"function"==typeof e}function d(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function c(e,...n){if(null==e)return t;const i=e.subscribe(...n);return i.unsubscribe?()=>i.unsubscribe():i}function a(e,t,n){e.$$.on_destroy.push(c(t,n))}function u(e,t,n,i){if(e){const o=f(e,t,n,i);return e[0](o)}}function f(e,t,n,o){return e[1]&&o?i(n.ctx.slice(),e[1](o(t))):n.ctx}function p(e,t,n,i,o,r,l){const s=function(e,t,n,i){if(e[2]&&i){const o=e[2](i(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let i=0;i<n;i+=1)e[i]=t.dirty[i]|o[i];return e}return t.dirty|o}return t.dirty}(t,i,o,r);if(s){const o=f(t,n,i,l);e.p(o,s)}}function h(e){return null==e?"":e}function g(e,t,n=t){return e.set(n),t}const m="undefined"!=typeof window;let y=m?()=>window.performance.now():()=>Date.now(),v=m?e=>requestAnimationFrame(e):t;const x=new Set;function $(e){x.forEach(t=>{t.c(e)||(x.delete(t),t.f())}),0!==x.size&&v($)}function b(e,t){e.appendChild(t)}function w(e,t,n){e.insertBefore(t,n||null)}function D(e){e.parentNode.removeChild(e)}function k(e){return document.createElement(e)}function M(e){return document.createTextNode(e)}function R(){return M(" ")}function S(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function E(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}let z,I;function C(){if(void 0===z){z=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(e){z=!0}}return z}function _(e){I=e}function O(){if(!I)throw new Error("Function called outside component initialization");return I}function T(){const e=O();return(t,n)=>{const i=e.$$.callbacks[t];if(i){const o=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);i.slice().forEach(t=>{t.call(e,o)})}}}const Z=[],K=[],A=[],L=[],P=Promise.resolve();let B=!1;function j(){B||(B=!0,P.then(X))}function N(e){A.push(e)}let H=!1;const Y=new Set;function X(){if(!H){H=!0;do{for(let e=0;e<Z.length;e+=1){const t=Z[e];_(t),F(t.$$)}for(Z.length=0;K.length;)K.pop()();for(let e=0;e<A.length;e+=1){const t=A[e];Y.has(t)||(Y.add(t),t())}A.length=0}while(Z.length);for(;L.length;)L.pop()();B=!1,H=!1,Y.clear()}}function F(e){if(null!==e.fragment){e.update(),l(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(N)}}const U=new Set;let W;function q(){W={r:0,c:[],p:W}}function G(){W.r||l(W.c),W=W.p}function V(e,t){e&&e.i&&(U.delete(e),e.i(t))}function J(e,t,n,i){if(e&&e.o){if(U.has(e))return;U.add(e),W.c.push(()=>{U.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}}const Q="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function ee(e,t){J(e,1,1,()=>{t.delete(e.key)})}function te(e,t,n,i,o,r,l,s,d,c,a,u){let f=e.length,p=r.length,h=f;const g={};for(;h--;)g[e[h].key]=h;const m=[],y=new Map,v=new Map;for(h=p;h--;){const e=u(o,r,h),s=n(e);let d=l.get(s);d?i&&d.p(e,t):(d=c(s,e),d.c()),y.set(s,m[h]=d),s in g&&v.set(s,Math.abs(h-g[s]))}const x=new Set,$=new Set;function b(e){V(e,1),e.m(s,a),l.set(e.key,e),a=e.first,p--}for(;f&&p;){const t=m[p-1],n=e[f-1],i=t.key,o=n.key;t===n?(a=t.first,f--,p--):y.has(o)?!l.has(i)||x.has(i)?b(t):$.has(o)?f--:v.get(i)>v.get(o)?($.add(i),b(t)):(x.add(o),f--):(d(n,l),f--)}for(;f--;){const t=e[f];y.has(t.key)||d(t,l)}for(;p;)b(m[p-1]);return m}function ne(e,n,i,d,c,a,u=[-1]){const f=I;_(e);const p=n.props||{},h=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:c,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:r(),dirty:u,skip_bound:!1};let g=!1;if(h.ctx=i?i(e,p,(t,n,...i)=>{const o=i.length?i[0]:n;return h.ctx&&c(h.ctx[t],h.ctx[t]=o)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](o),g&&function(e,t){-1===e.$$.dirty[0]&&(Z.push(e),j(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n}):[],h.update(),g=!0,l(h.before_update),h.fragment=!!d&&d(h.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);h.fragment&&h.fragment.l(e),e.forEach(D)}else h.fragment&&h.fragment.c();n.intro&&V(e.$$.fragment),function(e,t,n){const{fragment:i,on_mount:r,on_destroy:d,after_update:c}=e.$$;i&&i.m(t,n),N(()=>{const t=r.map(o).filter(s);d?d.push(...t):l(t),e.$$.on_mount=[]}),c.forEach(N)}(e,n.target,n.anchor),X()}_(f)}class ie{$destroy(){!function(e,t){const n=e.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const oe=[];function re(e,n=t){let i;const o=[];function r(t){if(d(e,t)&&(e=t,i)){const t=!oe.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),oe.push(n,e)}if(t){for(let e=0;e<oe.length;e+=2)oe[e][0](oe[e+1]);oe.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(l,s=t){const d=[l,s];return o.push(d),1===o.length&&(i=n(r)||t),l(e),()=>{const e=o.indexOf(d);-1!==e&&o.splice(e,1),0===o.length&&(i(),i=null)}}}}const le=re({defaults:{disableScrollOnDrag:!1,disableDropSpacing:!1,enableResizeListeners:!1,direction:"vertical"},dragThresholdPixels:25,animationMs:200,scrollOnDragThresholdPercent:.1,scrollOnDragMinPixels:50,scrollOnDragMaxPixels:150,minDragScrollSpeed:75,maxDragScrollSpeed:175}),se=re([]),de=re("none"),ce=re(void 0);function ae(e){return{scrollKey:"vertical"===e?"scrollTop":"scrollLeft",dimensionKey:"vertical"===e?"height":"width",paddingKeys:"vertical"===e?{before:"paddingTop",after:"paddingBottom"}:{before:"paddingLeft",after:"paddingRight"}}}function ue(){const{subscribe:e,update:t}=re(0);return{subscribe:e,next:()=>{let e=0;return t(t=>(e=t,t+1)),e}}}const fe=ue(),pe=ue();function he(e){let t,n,i,o,r,s;const d=e[4].default,c=u(d,e,e[3],null);return{c(){t=k("div"),c&&c.c(),E(t,"id",n="reactive-dnd-drag-handle-"+e[0]),E(t,"class",i=h(e[1]?"disabled":"default")+" svelte-1ctva")},m(n,i){w(n,t,i),c&&c.m(t,null),o=!0,r||(s=[S(t,"mousedown",e[5]),S(t,"mouseup",e[6]),S(t,"mousemove",e[7])],r=!0)},p(e,[r]){c&&c.p&&8&r&&p(c,d,e,e[3],r,null,null),(!o||1&r&&n!==(n="reactive-dnd-drag-handle-"+e[0]))&&E(t,"id",n),(!o||2&r&&i!==(i=h(e[1]?"disabled":"default")+" svelte-1ctva"))&&E(t,"class",i)},i(e){o||(V(c,e),o=!0)},o(e){J(c,e),o=!1},d(e){e&&D(t),c&&c.d(e),r=!1,l(s)}}}function ge(e,t,n){let i;a(e,se,e=>n(8,i=e));let o,{itemId:r}=t,{disabled:l=!1}=t,{$$slots:s={},$$scope:d}=t;return e.$$set=e=>{"itemId"in e&&n(0,r=e.itemId),"disabled"in e&&n(1,l=e.disabled),"$$scope"in e&&n(3,d=e.$$scope)},e.$$.update=()=>{257&e.$$.dirty&&n(2,o=i.find(e=>e.hasItem(r)))},[r,l,o,d,s,e=>{!l&&o&&o.getEventHandlers().handleMouseDown(e,r)},e=>{o&&o.getEventHandlers().handleMouseUp(e)},e=>{o&&o.getEventHandlers().handleMouseMove(e)}]}function me(e){let t;const n=e[1].default,i=u(n,e,e[0],null);return{c(){i&&i.c()},m(e,n){i&&i.m(e,n),t=!0},p(e,[t]){i&&i.p&&1&t&&p(i,n,e,e[0],t,null,null)},i(e){t||(V(i,e),t=!0)},o(e){J(i,e),t=!1},d(e){i&&i.d(e)}}}function ye(e,t,n){const i="drop-group-"+pe.next();let o=void 0,r=void 0;const l=T(),s=()=>{l("dragcomplete",{sourceResult:o,destinationResult:r}),o=void 0,r=void 0};!function(e,t){O().$$.context.set(e,t)}("reactive-drop-group",{key:i,onDragStart:()=>{o=void 0,r=void 0},onDropIn:(e,t,n,i,l,d)=>{r={item:e,index:t,insertedAfter:n,listSnapshot:i,dropZoneId:d},(o||l===d)&&s()},onDragOut:(e,t,n)=>{o={item:e,listSnapshot:t,dropZoneId:n},r&&s()},onDragCancel:e=>{l("dragcancelled",{item:e}),o=void 0,r=void 0}});let{$$slots:d={},$$scope:c}=t;return e.$$set=e=>{"$$scope"in e&&n(0,c=e.$$scope)},[c,d]}function ve(e){const t=e-1;return t*t*t+1}function xe(e){return"[object Date]"===Object.prototype.toString.call(e)}function $e(e,t){if(e===t||e!=e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const n=t.map((t,n)=>$e(e[n],t));return e=>n.map(t=>t(e))}if("object"===n){if(!e||!t)throw new Error("Object cannot be null");if(xe(e)&&xe(t)){e=e.getTime();const n=(t=t.getTime())-e;return t=>new Date(e+t*n)}const n=Object.keys(t),i={};return n.forEach(n=>{i[n]=$e(e[n],t[n])}),e=>{const t={};return n.forEach(n=>{t[n]=i[n](e)}),t}}if("number"===n){const n=t-e;return t=>e+t*n}throw new Error(`Cannot interpolate ${n} values`)}function be(e,t={}){const o=re(e);let r,l=e;function s(s,d){if(null==e)return o.set(e=s),Promise.resolve();l=s;let c=r,a=!1,{delay:u=0,duration:f=400,easing:p=n,interpolate:h=$e}=i(i({},t),d);if(0===f)return c&&(c.abort(),c=null),o.set(e=l),Promise.resolve();const g=y()+u;let m;return r=function(e){let t;return 0===x.size&&v($),{promise:new Promise(n=>{x.add(t={c:e,f:n})}),abort(){x.delete(t)}}}(t=>{if(t<g)return!0;a||(m=h(e,s),"function"==typeof f&&(f=f(e,s)),a=!0),c&&(c.abort(),c=null);const n=t-g;return n>f?(o.set(e=s),!1):(o.set(e=m(p(n/f))),!0)}),r.promise}return{set:s,update:(t,n)=>s(t(l,e),n),subscribe:o.subscribe}}function we(e,t){const n=Math.min(e.width+e.x,t.width+t.x),i=Math.max(e.x,t.x),o=Math.min(e.height+e.y,t.height+t.y),r=Math.max(e.y,t.y);return{overlapX:Math.max(n-i,0)/e.width,overlapY:Math.max(o-r,0)/e.height}}function De(e){return{x:e.width/2+e.x,y:e.height/2+e.y}}function ke(e,t){const n=Me(e.style.paddingTop),i=Me(e.style.paddingLeft),o=Me(e.style.paddingRight),r=Me(e.style.paddingBottom);return{x:t.x+i,y:t.y+n,width:t.width-(i+o),height:t.height-(n+r)}}function Me(e){return e&&e.length>0?Number.parseFloat(e.substring(0,e.length-2)):0}function Re(e,t,n){"horizontal"===t?e.style.width=n+"px":e.style.height=n+"px"}function Se(e,t,n){const i="horizontal"===n?"x":"y";return De(e)[i]>De(t)[i]?"before":"after"}function Ee(e,t,n){const i=[...e],o=i[t];o&&n||console.log(o,e,t,n),i[t]={x:o.x,y:o.y,width:o.width+n.x,height:o.height+n.y};for(let e=t+1;e<i.length;e++)i[e]=ze(i[e],n);return i}function ze(e,t){return Ie(e,{x:e.x+t.x,y:e.y+t.y})}function Ie({width:e,height:t},{x:n,y:i}){return{x:n,y:i,width:e,height:t}}function Ce(e,t,n){return function(e,t=0,n=1){return Math.max(t,Math.min(n,e))}(e)*(n-t)+t}const{document:_e}=Q;const Oe=e=>({data:2080&e[0]}),Te=e=>({data:{item:e[73],isDraggingOver:!!e[5]&&e[5].item.id===e[73].id,dragEventHandlers:{handleMouseDown:e[15],handleMouseUp:e[16],handleMouseMove:e[17]}}});function Ze(e,t,n){const i=e.slice();return i[73]=t[n],i[76]=t,i[77]=n,i}const Ke=e=>({data:2080&e[0]}),Ae=e=>({data:{item:e[73],isDraggingOver:!!e[5]&&e[5].item.id===e[73].id,dragEventHandlers:{handleMouseDown:e[15],handleMouseUp:e[16],handleMouseMove:e[17]}}});function Le(e,t,n){const i=e.slice();return i[73]=t[n],i[74]=t,i[75]=n,i}function Pe(e){let t,n,i,o=[],r=new Map,l=e[11].items;const s=e=>e[73].id;for(let t=0;t<l.length;t+=1){let n=Ze(e,l,t),i=s(n);r.set(i,o[t]=je(i,n))}return{c(){t=k("div");for(let e=0;e<o.length;e+=1)o[e].c();E(t,"class",n=h("dropContainer "+("horizontal"===e[11].direction?"horizontal":"vertical"))+" svelte-1o1tsxk")},m(n,r){w(n,t,r);for(let e=0;e<o.length;e+=1)o[e].m(t,null);e[33](t),i=!0},p(e,l){if(134449186&l[0]){const n=e[11].items;q(),o=te(o,l,s,1,e,n,r,t,ee,je,null,Ze),G()}(!i||2048&l[0]&&n!==(n=h("dropContainer "+("horizontal"===e[11].direction?"horizontal":"vertical"))+" svelte-1o1tsxk"))&&E(t,"class",n)},i(e){if(!i){for(let e=0;e<l.length;e+=1)V(o[e]);i=!0}},o(e){for(let e=0;e<o.length;e+=1)J(o[e]);i=!1},d(n){n&&D(t);for(let e=0;e<o.length;e+=1)o[e].d();e[33](null)}}}function Be(e){let t,n,i,o,r=[],l=new Map,s=e[11].items;const d=e=>e[73].id;for(let t=0;t<s.length;t+=1){let n=Le(e,s,t),i=d(n);l.set(i,r[t]=Ne(i,n))}return{c(){t=k("div");for(let e=0;e<r.length;e+=1)r[e].c();E(t,"class",n=h("dropContainer "+("horizontal"===e[11].direction?"horizontal":"vertical"))+" svelte-1o1tsxk"),N(()=>e[31].call(t))},m(n,l){w(n,t,l);for(let e=0;e<r.length;e+=1)r[e].m(t,null);e[30](t),i=function(e,t){const n=getComputedStyle(e),i=(parseInt(n.zIndex)||0)-1;"static"===n.position&&(e.style.position="relative");const o=k("iframe");o.setAttribute("style",`display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: ${i};`),o.setAttribute("aria-hidden","true"),o.tabIndex=-1;const r=C();let l;return r?(o.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",l=S(window,"message",e=>{e.source===o.contentWindow&&t()})):(o.src="about:blank",o.onload=()=>{l=S(o.contentWindow,"resize",t)}),b(e,o),()=>{(r||l&&o.contentWindow)&&l(),D(o)}}(t,e[31].bind(t)),o=!0},p(e,i){if(134449186&i[0]){const n=e[11].items;q(),r=te(r,i,d,1,e,n,l,t,ee,Ne,null,Le),G()}(!o||2048&i[0]&&n!==(n=h("dropContainer "+("horizontal"===e[11].direction?"horizontal":"vertical"))+" svelte-1o1tsxk"))&&E(t,"class",n)},i(e){if(!o){for(let e=0;e<s.length;e+=1)V(r[e]);o=!0}},o(e){for(let e=0;e<r.length;e+=1)J(r[e]);o=!1},d(n){n&&D(t);for(let e=0;e<r.length;e+=1)r[e].d();e[30](null),i()}}}function je(e,t){let n,i,o,r=t[73];const l=t[28].listItem,s=u(l,t,t[27],Te),d=()=>t[32](n,r),c=()=>t[32](null,r);return{key:e,first:null,c(){n=k("div"),s&&s.c(),i=R(),E(n,"class","dragContainer svelte-1o1tsxk"),this.first=n},m(e,t){w(e,n,t),s&&s.m(n,null),b(n,i),d(),o=!0},p(e,n){t=e,s&&s.p&&134219808&n[0]&&p(s,l,t,t[27],n,Oe,Te),r!==t[73]&&(c(),r=t[73],d())},i(e){o||(V(s,e),o=!0)},o(e){J(s,e),o=!1},d(e){e&&D(n),s&&s.d(e),c()}}}function Ne(e,t){let n,i,o,r=t[73];const l=t[28].listItem,s=u(l,t,t[27],Ae),d=()=>t[29](n,r),c=()=>t[29](null,r);return{key:e,first:null,c(){n=k("div"),s&&s.c(),i=R(),E(n,"class","dragContainer svelte-1o1tsxk"),this.first=n},m(e,t){w(e,n,t),s&&s.m(n,null),b(n,i),d(),o=!0},p(e,n){t=e,s&&s.p&&134219808&n[0]&&p(s,l,t,t[27],n,Ke,Ae),r!==t[73]&&(c(),r=t[73],d())},i(e){o||(V(s,e),o=!0)},o(e){J(s,e),o=!1},d(e){e&&D(n),s&&s.d(e),c()}}}function He(e){let t,n,i,o,r,s;const d=[Be,Pe],c=[];function a(e,t){return e[0]?0:1}return t=a(e),n=c[t]=d[t](e),{c(){n.c(),i=M("")},m(n,l){c[t].m(n,l),w(n,i,l),o=!0,r||(s=[S(window,"mousemove",e[13]),S(window,"mouseup",e[14]),S(window,"mouseleave",e[14])],r=!0)},p(e,o){let r=t;t=a(e),t===r?c[t].p(e,o):(q(),J(c[r],1,1,()=>{c[r]=null}),G(),n=c[t],n||(n=c[t]=d[t](e),n.c()),V(n,1),n.m(i.parentNode,i))},i(e){o||(V(n),o=!0)},o(e){J(n),o=!1},d(e){c[t].d(e),e&&D(i),r=!1,l(s)}}}function Ye(e,n,i){let o,r,l,s,d,u,f,p,h,m,y=t,v=()=>(y(),y=c(oe,e=>i(50,s=e)),oe),x=t,$=()=>(x(),x=c(he,e=>i(52,f=e)),he),b=t,w=()=>(b(),b=c(pe,e=>i(53,p=e)),pe),D=t,k=()=>(D(),D=c(ue,e=>i(54,h=e)),ue),M=t,R=()=>(M(),M=c(ye,e=>i(55,m=e)),ye);a(e,le,e=>i(47,o=e)),a(e,ce,e=>i(48,r=e)),a(e,de,e=>i(49,l=e)),a(e,se,e=>i(51,u=e)),e.$$.on_destroy.push(()=>y()),e.$$.on_destroy.push(()=>x()),e.$$.on_destroy.push(()=>b()),e.$$.on_destroy.push(()=>D()),e.$$.on_destroy.push(()=>M());var S=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function l(e){try{d(i.next(e))}catch(e){r(e)}}function s(e){try{d(i.throw(e))}catch(e){r(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,s)}d((i=i.apply(e,t||[])).next())}))};let{items:E}=n,{key:z}=n,{capacity:I=Number.POSITIVE_INFINITY}=n,{disabled:C=!1}=n,{disableScrollOnDrag:_=o.defaults.disableScrollOnDrag}=n,{disableDropSpacing:Z=o.defaults.disableDropSpacing}=n,{enableResizeListeners:A=o.defaults.enableResizeListeners}=n,{direction:L=o.defaults.direction}=n,{allowDrop:B=(()=>!0)}=n;const N=fe.next(),H=function(e){return O().$$.context.get(e)}("reactive-drop-group"),Y=function(e){const{subscribe:t,set:n}=re(Object.assign(Object.assign({},e),ae(e.direction)));return{subscribe:t,set:({items:t,direction:i})=>{n(Object.assign({items:t,direction:i},ae(e.direction)))}}}({items:[],direction:L});a(e,Y,e=>i(11,d=e));let X,F,U,W,q=[],G={},V=0,J=0,Q=!1,ee=void 0,te=void 0,ne=[],ie=void 0,oe=void 0;v();let ue=void 0;k();let pe=void 0;w();let he=void 0;$();let ge,me,ye=void 0;R();let xe=void 0,$e=null!=z?z:null==H?void 0:H.key,_e=!1;const Oe=T(),Te=()=>{g(de,l="none"),document.body.removeChild(r.dragElement);let e=G[r.item.id];e.style[d.dimensionKey]="",e.style.paddingTop="",e.style.paddingBottom="",e.style.paddingLeft="",e.style.paddingRight="",e.children[0].style.display=F,te&&te.item.id===r.item.id&&(i(5,te=void 0),w(i(8,pe=void 0))),u.filter(e=>e.key===$e).forEach(e=>e.cleanupDropZone()),g(ce,r=void 0)},Ze=()=>{te&&Ne(),i(34,q=[]),ie=void 0,F=void 0,i(44,xe=void 0),R(i(10,ye=void 0)),_e=!1},Ke=(e,t,n)=>{!C&&d.items.find(e=>e.id===t)&&0===e.button?(ie={x:e.clientX,y:e.clientY},ee=t,n&&(W=()=>{n(e)})):n&&n(e)},Ae=()=>{"none"===l&&(W&&W(),ie=void 0,ee=void 0,W=void 0)},Le=e=>S(void 0,void 0,void 0,(function*(){if(ie&&"none"===l){let t=ie.x-e.clientX,n=ie.y-e.clientY;if(t*t+n*n>o.dragThresholdPixels){g(de,l="picking-up");const e=G[ee],t=function(e,t){const n=e.getBoundingClientRect(),i=e.cloneNode(!0);i.id="reactive-dnd-drag-placeholder",i.style.position="fixed",i.style.top=n.top+"px",i.style.left=n.left+"px",i.style.zIndex="9999",i.style.cursor="grabbing";const o=i.querySelector("#reactive-dnd-drag-handle-"+t);return o&&(o.style.cursor="grabbing"),i}(e,ee);document.body.append(t),g(ce,r={item:d.items.find(e=>e.id===ee),key:$e,controllingDropZoneId:N,dragElement:t,sourceRect:e.getBoundingClientRect(),cachedRect:t.getBoundingClientRect()}),v(i(6,oe=be({x:0,y:0},{duration:o.animationMs,easing:ve}))),k(i(7,ue=be(r.sourceRect[d.dimensionKey],{duration:o.animationMs,easing:ve}))),Re(e,d.direction,r.sourceRect[d.dimensionKey]);const n=e.children[0];F=n.style.display,n.style.display="none",_e=!0,u.filter(e=>e.key===$e).forEach(e=>e.prepareDropZone()),H&&H.key===$e&&H.onDragStart(),yield ue.set(0),g(de,l="dragging"),i(34,q=[])}}})),Pe=()=>{me=U[d.scrollKey],ge=me,ee=void 0,W=void 0,i(5,te=void 0),i(44,xe=void 0),i(39,ne=[])},Be=e=>{let t;t=e?"before"===e.placement?e.index:e.index+1:0;const n=d.items.slice(0,t).filter(e=>e.id!==r.item.id),o=d.items.slice(t).filter(e=>e.id!==r.item.id),l=[...n,r.item,...o],s=l.findIndex(e=>e.id===r.item.id);var c;te&&((c=te).element.style.paddingTop="",c.element.style.paddingBottom="",c.element.style.paddingLeft="",c.element.style.paddingRight="",i(5,te=void 0),w(i(8,pe=void 0)));const a={item:r.item,index:s,insertedAfter:s>0?d.items[s-1]:void 0,listSnapshot:l,sourceDropZone:r.controllingDropZoneId};H&&H.key===$e&&H.onDropIn(a.item,a.index,a.insertedAfter,a.listSnapshot,a.sourceDropZone,N),Oe("itemdroppedin",a)},je=e=>{if(Z)return;const t=ne.findIndex(t=>t.item.id===e.item.id&&t.placement===e.placement);let n=0;if(t>-1){i(39,ne=ne.filter((e,n)=>n!==t));const e=f;n=Math.min(e[t],r.cachedRect[d.dimensionKey]);const l=e.filter((e,n)=>n!==t);$(i(9,he=be(l,{duration:o.animationMs,easing:ve}))),he.set(new Array(l.length).fill(0))}i(5,te=e),w(i(8,pe=be(n,{duration:o.animationMs,easing:ve}))),pe.set(r.cachedRect[d.dimensionKey])},Ne=()=>{if(!te)return;const e=ne.findIndex(e=>e.item.id===te.item.id&&e.placement===te.placement);let t=he?f:[];e>=0&&(i(39,ne=ne.filter((t,n)=>n!==e)),t=t.filter((t,n)=>n!==e)),i(39,ne=[...ne,te]),$(i(9,he=be([...t,Math.min(p,r.cachedRect[d.dimensionKey])],{duration:o.animationMs,easing:ve}))),he.set(new Array(t.length+1).fill(0)),w(i(8,pe=void 0)),i(5,te=void 0)},He=()=>{if(_)return R(i(10,ye=void 0)),void(ge=me);const e="horizontal"===d.direction?De(r.cachedRect).x:De(r.cachedRect).y,t="horizontal"===d.direction?X.x:X.y;let n=Math.min(Math.max(o.scrollOnDragThresholdPercent*X[d.dimensionKey],o.scrollOnDragMinPixels),o.scrollOnDragMaxPixels);if(e<=n+t){const r=1-(e-t)/n;ge>=me&&(R(i(10,ye=be(me,{duration:o.animationMs}))),ge=Math.trunc(me-Ce(r,o.minDragScrollSpeed,o.maxDragScrollSpeed)),ye.set(ge))}else if(e>=X[d.dimensionKey]-n+t){const r=(e-(X[d.dimensionKey]-n+t))/n;ge<=me&&(R(i(10,ye=be(me,{duration:o.animationMs}))),ge=Math.trunc(me+Ce(r,o.minDragScrollSpeed,o.maxDragScrollSpeed)),ye.set(ge))}else R(i(10,ye=void 0)),ge=me},Ye=()=>{if(0===d.items.length)return;He();let e=!1;const t=[];for(let l=0;l<d.items.length;l++){const s=d.items[l],c=G[s.id];(l>=q.length||void 0===q[l])&&i(34,q[l]=c.getBoundingClientRect(),q);let a=(n=r.cachedRect,o=q[l],!(n.x+n.width<o.x||n.y+n.height<o.y||o.x+o.width<n.x||o.y+o.height<n.y)),u=Se(ke(c,q[l]),r.cachedRect,d.direction);if(a)t.push({index:l,item:s,element:c,placement:u}),e=!0;else if(e)break}var n,o;if(0===t.length){const e=d.items.length-1,n=d.items[e];t.push({index:e,item:n,element:G[n.id],placement:"after"})}const l=Math.trunc((t[0].index+t[t.length-1].index)/2);let s=t.find(e=>e.index===l);if("before"===s.placement&&s.index>0){const e=s.index-1,t=d.items[e];s={index:e,item:t,element:G[t.id],placement:"after"}}return te?te.item.id===s.item.id&&te.placement===s.placement||(Ne(),je(s)):je(s),s},Xe=()=>{_e=!0,Oe("dropzoneenter",{item:r.item,rect:r.cachedRect})},Fe=()=>{_e=!1,te&&Ne(),ge=me,R(i(10,ye=void 0)),Oe("dropzoneleave",{item:r.item,rect:r.cachedRect})},Ue=e=>!!d.items.find(t=>t.id===e),We=()=>({handleMouseDown:Ke,handleMouseUp:Ae,handleMouseMove:Le}),qe=()=>!C&&r.key===$e&&I-d.items.length>0&&B(r.item,r.controllingDropZoneId),Ge=()=>S(void 0,void 0,void 0,(function*(){const e=me;yield(j(),P),me=U[d.scrollKey];const t=me-e;if(0!==t){const e="horizontal"===d.direction?{x:-t,y:0}:{x:0,y:-t};i(34,q=function(e,t,n){const i=[...e];for(let e=t;e<i.length;e++)i[e]=ze(i[e],n);return i}(q,0,e))}me===ge&&He(),_e&&Ye()}));var Ve;Ve=()=>{i(37,Q=!0)},O().$$.on_mount.push(Ve),function(e){O().$$.on_destroy.push(e)}(()=>{g(se,u=u.filter(e=>e.id!==N))});let{$$slots:Je={},$$scope:Qe}=n;return e.$$set=e=>{"items"in e&&i(18,E=e.items),"key"in e&&i(19,z=e.key),"capacity"in e&&i(20,I=e.capacity),"disabled"in e&&i(21,C=e.disabled),"disableScrollOnDrag"in e&&i(22,_=e.disableScrollOnDrag),"disableDropSpacing"in e&&i(23,Z=e.disableDropSpacing),"enableResizeListeners"in e&&i(0,A=e.enableResizeListeners),"direction"in e&&i(24,L=e.direction),"allowDrop"in e&&i(25,B=e.allowDrop),"$$scope"in e&&i(27,Qe=e.$$scope)},e.$$.update=()=>{if(524288&e.$$.dirty[0]&&i(45,$e=null!=z?z:null==H?void 0:H.key),3072&e.$$.dirty[0]|17039360&e.$$.dirty[1]&&"dragging"===l&&ye&&(i(2,U[d.scrollKey]=m,U),Ge()),29&e.$$.dirty[0]|1065040&e.$$.dirty[1]&&Q){let e=!1,t=!1,n=!1;if(A&&((null==X?void 0:X.width)!==V||(null==X?void 0:X.height)!==J)){let t=U.getBoundingClientRect();i(35,X={x:t.left,y:t.top,width:V,height:J}),e=!0}(e||t||n)&&g(se,u=[...u.filter(e=>e.id!==N),{id:N,key:$e,rect:X,dropElement:U,dropCallback:Be,hoverCallback:Ye,prepareDropZone:Pe,enterDropZone:Xe,leaveDropZone:Fe,hasItem:Ue,getEventHandlers:We,cleanupDropZone:Ze,canDrop:qe}])}if(17039360&e.$$.dirty[0]|409600&e.$$.dirty[1]&&("none"!==l&&$e===r.key||Y.set({items:E,direction:L})),2050&e.$$.dirty[0]|8781824&e.$$.dirty[1]&&((null==r?void 0:r.controllingDropZoneId)!==N||"picking-up"!==l&&"returning"!==l||Re(G[r.item.id],d.direction,h)),2336&e.$$.dirty[0]|4194312&e.$$.dirty[1]&&te&&pe){const e=p,t=Me(te.element.style[d.paddingKeys[te.placement]]);i(5,te.element.style[d.paddingKeys[te.placement]]=e+"px",te);const n=e-t,o="horizontal"===d.direction?{x:n,y:0}:{x:0,y:n};q.length>=te.index&&i(34,q=Ee(q,te.index,o))}if(2560&e.$$.dirty[0]|2162952&e.$$.dirty[1]&&ne.length>0&&he){const e=f,t=[],n=ne.map(e=>Me(e.element.style[d.paddingKeys[e.placement]]));i(39,ne=ne.map((i,o)=>{const r=e[o]-n[o];return t.push({index:i.index,delta:r}),i.element.style[d.paddingKeys[i.placement]]=e[o]+"px",i}));let r=0;for(let t=0;t<e.length&&!(e[t]>0);t++)++r;r>0&&(i(39,ne=ne.slice(r)),$(i(9,he=be(e.slice(r),{duration:o.animationMs,easing:ve}))),he.set(new Array(ne.length).fill(0))),t.forEach(({index:e,delta:t})=>{if(q.length>=e){const n="horizontal"===d.direction?{x:t,y:0}:{x:0,y:t};i(34,q=Ee(q,e,n))}})}if(1974272&e.$$.dirty[1]&&(null==r?void 0:r.controllingDropZoneId)===N&&("none"!==l&&ce.update(e=>{const t=s;return e.dragElement.style.transform=`translate3d(${t.x}px, ${t.y}px, 0)`,e.cachedRect=Ie(e.cachedRect,{x:t.x+e.sourceRect.x,y:t.y+e.sourceRect.y}),e}),"dragging"===l)){const e=u.map(e=>({target:e,overlap:we(r.cachedRect,e.rect)})).reduce((e,t)=>t.overlap.overlapX>e.overlap.overlapX||t.overlap.overlapY>e.overlap.overlapY?t:e);if(e.overlap.overlapX>0&&e.overlap.overlapY>0&&e.target.canDrop()){xe&&xe.dropTarget.id!==e.target.id&&(xe.dropTarget.leaveDropZone(),i(44,xe=void 0)),xe||e.target.enterDropZone();const t=e.target.hoverCallback();i(44,xe={dropTarget:e.target,hoverResult:t})}else xe&&(xe.dropTarget.leaveDropZone(),i(44,xe=void 0))}},[A,G,U,V,J,te,oe,ue,pe,he,ye,d,Y,e=>{(null==r?void 0:r.controllingDropZoneId)!==N||"picking-up"!==l&&"dragging"!==l||(e.preventDefault(),g(oe,s={x:e.clientX-ie.x,y:e.clientY-ie.y}))},e=>S(void 0,void 0,void 0,(function*(){if((null==r?void 0:r.controllingDropZoneId)===N&&("picking-up"===l||"dragging"===l))if(e.preventDefault(),xe){let e,t=xe.dropTarget.hoverCallback()||xe.hoverResult;if(g(de,l="dropping"),t){const n=t.element.getBoundingClientRect();if("before"===t.placement)e=n;else{const i=ke(t.element,n);e="horizontal"===L?{x:n.x+i.width,y:n.y}:{x:n.x,y:n.y+i.height}}}else e=xe.dropTarget.rect;const n={x:e.x-r.sourceRect.x,y:e.y-r.sourceRect.y};if(yield oe.set(n),xe.dropTarget.dropCallback(t),xe.dropTarget.id!==N){const e={item:r.item,listSnapshot:[...d.items.filter(e=>e.id!==r.item.id)],destinationDropZone:xe.dropTarget.id};H&&H.key===$e&&H.onDragOut(e.item,e.listSnapshot,N),Oe("itemdraggedout",e)}Te()}else g(de,l="returning"),ue.set(r.sourceRect[d.dimensionKey]),te&&Ne(),yield oe.set({x:0,y:0}),H&&H.key===$e&&H.onDragCancel(r.item),Oe("dragcancelled",{item:r.item}),Te()})),Ke,Ae,Le,E,z,I,C,_,Z,L,B,N,Qe,Je,function(e,t){K[e?"unshift":"push"](()=>{G[t.id]=e,i(1,G)})},function(e){K[e?"unshift":"push"](()=>{U=e,i(2,U),i(49,l),i(10,ye),i(11,d),i(55,m)})},function(){V=this.clientWidth,J=this.clientHeight,i(3,V),i(4,J)},function(e,t){K[e?"unshift":"push"](()=>{G[t.id]=e,i(1,G)})},function(e){K[e?"unshift":"push"](()=>{U=e,i(2,U),i(49,l),i(10,ye),i(11,d),i(55,m)})}]}return e.DragHandle=class extends ie{constructor(e){var t;super(),document.getElementById("svelte-1ctva-style")||((t=k("style")).id="svelte-1ctva-style",t.textContent=".default.svelte-1ctva{cursor:grab}.disabled.svelte-1ctva{cursor:not-allowed}",b(document.head,t)),ne(this,e,ge,he,d,{itemId:0,disabled:1})}},e.DropGroup=class extends ie{constructor(e){super(),ne(this,e,ye,me,d,{})}},e.DropList=class extends ie{constructor(e){var t;super(),_e.getElementById("svelte-1o1tsxk-style")||((t=k("style")).id="svelte-1o1tsxk-style",t.textContent=".dropContainer.svelte-1o1tsxk{height:100%;width:100%;overscroll-behavior:contain}.dragContainer.svelte-1o1tsxk{width:fit-content;height:fit-content;flex-shrink:0;flex-grow:0}.horizontal.svelte-1o1tsxk{display:flex;overflow-x:scroll}.vertical.svelte-1o1tsxk{overflow-y:scroll}",b(_e.head,t)),ne(this,e,Ye,He,d,{items:18,key:19,capacity:20,disabled:21,disableScrollOnDrag:22,disableDropSpacing:23,enableResizeListeners:0,direction:24,allowDrop:25,id:26},[-1,-1,-1])}get id(){return this.$$.ctx[26]}},e.dragDropSettings=le,e}({});
